import{Q as Ot,c as O,l as Rt,_ as dt,r as Dt,a as qt,o as Z,b as Y,d as j,t as st,e as $,f as Ft,w as Pt,v as Wt,F as Gt,g as Ut,p as Qt,h as Jt,I as Zt,M as Yt,B as Xt,i as Kt,j as te}from"./index-zE6_Edij.js";const ee=Ot.import("blots/block");class X extends ee{static create(t){const n=super.create(t);if(t===!0)return n;const r=document.createElement("img");return r.setAttribute("src",t),n.appendChild(r),n}deleteAt(t,n){super.deleteAt(t,n),this.cache={}}static value(t){const{src:n,custom:r}=t.dataset;return{src:n,custom:r}}}X.blotName="imageBlot";X.className="image-uploading";X.tagName="span";Ot.register({"formats/imageBlot":X});class zt{constructor(t,n){this.quill=t,this.options=n,this.range=null,this.placeholderDelta=null,typeof this.options.upload!="function"&&console.warn("[Missing config] upload function that returns a promise is required");var r=this.quill.getModule("toolbar");r&&r.addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}selectLocalImage(){this.quill.focus(),this.range=this.quill.getSelection(),this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame(()=>{document.body.removeChild(this.fileHolder)})}handleDrop(t){if(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length){if(t.stopPropagation(),t.preventDefault(),document.caretRangeFromPoint){const r=document.getSelection(),i=document.caretRangeFromPoint(t.clientX,t.clientY);r&&i&&r.setBaseAndExtent(i.startContainer,i.startOffset,i.startContainer,i.startOffset)}else{const r=document.getSelection(),i=document.caretPositionFromPoint(t.clientX,t.clientY);r&&i&&r.setBaseAndExtent(i.offsetNode,i.offset,i.offsetNode,i.offset)}this.quill.focus(),this.range=this.quill.getSelection();let n=t.dataTransfer.files[0];setTimeout(()=>{this.quill.focus(),this.range=this.quill.getSelection(),this.readAndUploadFile(n)},0)}}handlePaste(t){let n=t.clipboardData||window.clipboardData;if(n&&(n.items||n.files)){let r=n.items||n.files;const i=/^image\/(jpe?g|gif|png|svg|webp)$/i;for(let o=0;o<r.length;o++)if(i.test(r[o].type)){let a=r[o].getAsFile?r[o].getAsFile():r[o];a&&(this.quill.focus(),this.range=this.quill.getSelection(),t.preventDefault(),setTimeout(()=>{this.quill.focus(),this.range=this.quill.getSelection(),this.readAndUploadFile(a)},0))}}}readAndUploadFile(t){let n=!1;const r=new FileReader;r.addEventListener("load",()=>{if(!n){let i=r.result;this.insertBase64Image(i)}},!1),t&&r.readAsDataURL(t),this.options.upload(t).then(i=>{this.insertToEditor(i)},i=>{n=!0,this.removeBase64Image(),console.warn(i)})}fileChanged(){const t=this.fileHolder.files[0];this.readAndUploadFile(t)}insertBase64Image(t){const n=this.range;this.placeholderDelta=this.quill.insertEmbed(n.index,X.blotName,`${t}`,"user")}insertToEditor(t){const n=this.range,r=this.calculatePlaceholderInsertLength();this.quill.deleteText(n.index,r,"user"),this.quill.insertEmbed(n.index,"image",`${t}`,"user"),n.index++,this.quill.setSelection(n,"user")}calculatePlaceholderInsertLength(){return this.placeholderDelta.ops.reduce((t,n)=>(n.hasOwnProperty("insert")&&t++,t),0)}removeBase64Image(){const t=this.range,n=this.calculatePlaceholderInsertLength();this.quill.deleteText(t.index,n,"user")}}window.ImageUploader=zt;var v={},ht={},mt={},K={},y={};Object.defineProperty(y,"__esModule",{value:!0});var ne=`
`;y.NewLine=ne;var at;(function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"})(at||(at={}));y.ListType=at;var ut;(function(e){e.Sub="sub",e.Super="super"})(ut||(ut={}));y.ScriptType=ut;var lt;(function(e){e.Rtl="rtl"})(lt||(lt={}));y.DirectionType=lt;var ct;(function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"})(ct||(ct={}));y.AlignType=ct;var pt;(function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"})(pt||(pt={}));y.DataType=pt;var ft;(function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"})(ft||(ft={}));y.GroupType=ft;var R={};Object.defineProperty(R,"__esModule",{value:!0});var re=function(){function e(t,n){this.type=t,this.value=n}return e}();R.InsertDataQuill=re;var ie=function(){function e(t,n){this.type=t,this.value=n}return e}();R.InsertDataCustom=ie;var oe=O&&O.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(K,"__esModule",{value:!0});var L=y,St=R,se=oe(Rt),ae=function(){function e(t,n){typeof t=="string"&&(t=new St.InsertDataQuill(L.DataType.Text,t+"")),this.insert=t,this.attributes=n||{}}return e.createNewLineOp=function(){return new e(L.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var t=this.attributes;return!!(t.align||t.direction||t.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},e.prototype.hasSameIndentationAs=function(t){return this.attributes.indent===t.attributes.indent},e.prototype.hasSameAttr=function(t){return se.default(this.attributes,t.attributes)},e.prototype.hasHigherIndentThan=function(t){return(Number(this.attributes.indent)||0)>(Number(t.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(t){return this.attributes["code-block"]===t.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===L.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===L.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===L.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===L.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===L.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==L.ListType.Unchecked||this.attributes.list===L.ListType.Checked},e.prototype.isSameListAs=function(t){return!!t.attributes.list&&(this.attributes.list===t.attributes.list||t.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(t){return!!t.isTable()&&this.isTable()&&this.attributes.table===t.attributes.table},e.prototype.isText=function(){return this.insert.type===L.DataType.Text},e.prototype.isImage=function(){return this.insert.type===L.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===L.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===L.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof St.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();K.DeltaInsertOp=ae;var rt={},vt={},tt={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});function ue(e){var t=e;t=t.replace(/^\s*/gm,"");var n=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return n.test(t)?t:"unsafe:"+t}gt.sanitize=ue;var x={};Object.defineProperty(x,"__esModule",{value:!0});var V;(function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"})(V||(V={}));function le(e,t){if(t===void 0&&(t=void 0),!e)return"";var n="";if(t){var r=[].concat(t);n=r.map(function(o){return o.key+(o.value?'="'+o.value+'"':"")}).join(" ")}var i=">";return(e==="img"||e==="br")&&(i="/>"),n?"<"+e+" "+n+i:"<"+e+i}x.makeStartTag=le;function ce(e){return e===void 0&&(e=""),e&&"</"+e+">"||""}x.makeEndTag=ce;function Ht(e){return bt(V.Html).reduce(Et,e)}x.decodeHtml=Ht;function pe(e,t){return t===void 0&&(t=!0),t&&(e=Ht(e)),bt(V.Html).reduce(xt,e)}x.encodeHtml=pe;function fe(e){var t=bt(V.Url),n=t.reduce(Et,e);return t.reduce(xt,n)}x.encodeLink=fe;function bt(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===V.Html?t.filter(function(n){var r=n[0];return n[1],r.indexOf("(")===-1&&r.indexOf(")")===-1}):t.filter(function(n){var r=n[0];return n[1],r.indexOf("/")===-1})}function xt(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function Et(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}var de=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(tt,"__esModule",{value:!0});var he=de(gt),me=x,ve=function(){function e(){}return e.sanitize=function(t,n){var r=function(){};n&&typeof n.urlSanitizer=="function"&&(r=n.urlSanitizer);var i=r(t);return typeof i=="string"?i:me.encodeLink(he.sanitize(t))},e}();tt.OpLinkSanitizer=ve;Object.defineProperty(vt,"__esModule",{value:!0});var It=tt,ge=function(){function e(){}return e.sanitize=function(t,n){var r={};return!t||typeof t!="object"||(t.class&&e.IsValidClass(t.class)&&(r.class=t.class),t.id&&e.IsValidId(t.id)&&(r.id=t.id),e.IsValidTarget(t.target+"")&&(r.target=t.target),t.avatar&&(r.avatar=It.OpLinkSanitizer.sanitize(t.avatar+"",n)),t["end-point"]&&(r["end-point"]=It.OpLinkSanitizer.sanitize(t["end-point"]+"",n)),t.slug&&(r.slug=t.slug+"")),r},e.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(t){return["_self","_blank","_parent","_top"].indexOf(t)>-1},e}();vt.MentionSanitizer=ge;var D={};Object.defineProperty(D,"__esModule",{value:!0});function be(e){return e.length===0?null:e.length>=2?e[1]:e[0]}D.preferSecond=be;function $t(e){return e.reduce(function(t,n){return t.concat(Array.isArray(n)?$t(n):n)},[])}D.flatten=$t;function Te(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}D.find=Te;function ye(e,t){for(var n=[],r,i,o=0;o<e.length;o++)r=e[o],o>0&&t(r,e[o-1])?(i=n[n.length-1],i.push(r)):n.push([r]);return n.map(function(a){return a.length===1?a[0]:a})}D.groupConsecutiveElementsWhile=ye;function _e(e,t,n){for(var r={elements:[],sliceStartsAt:-1},i=t;i>=0&&n(e[i]);i--)r.sliceStartsAt=i,r.elements.unshift(e[i]);return r}D.sliceFromReverseWhile=_e;function ke(e,t){return e.reduce(function(n,r,i){return n.push(r),i<e.length-1&&n.push(t),n},[])}D.intersperse=ke;Object.defineProperty(rt,"__esModule",{value:!0});var G=y,Ce=vt,Le=D,Se=tt,Ie=function(){function e(){}return e.sanitize=function(t,n){var r={};if(!t||typeof t!="object")return r;var i=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],o=["background","color"],a=t.font,l=t.size,d=t.link,u=t.script,s=t.list,p=t.header,f=t.align,h=t.direction,c=t.indent,m=t.mentions,g=t.mention,b=t.width,I=t.target,k=t.rel,H=t["code-block"],T=i.concat(o,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(i.forEach(function(C){var B=t[C];B&&(r[C]=!!B)}),o.forEach(function(C){var B=t[C];B&&(e.IsValidHexColor(B+"")||e.IsValidColorLiteral(B+"")||e.IsValidRGBColor(B+""))&&(r[C]=B)}),a&&e.IsValidFontName(a+"")&&(r.font=a),l&&e.IsValidSize(l+"")&&(r.size=l),b&&e.IsValidWidth(b+"")&&(r.width=b),d&&(r.link=Se.OpLinkSanitizer.sanitize(d+"",n)),I&&e.isValidTarget(I)&&(r.target=I),k&&e.IsValidRel(k)&&(r.rel=k),H&&(e.IsValidLang(H)?r["code-block"]=H:r["code-block"]=!!H),(u===G.ScriptType.Sub||G.ScriptType.Super===u)&&(r.script=u),(s===G.ListType.Bullet||s===G.ListType.Ordered||s===G.ListType.Checked||s===G.ListType.Unchecked)&&(r.list=s),Number(p)&&(r.header=Math.min(Number(p),6)),Le.find([G.AlignType.Center,G.AlignType.Right,G.AlignType.Justify,G.AlignType.Left],function(C){return C===f})&&(r.align=f),h===G.DirectionType.Rtl&&(r.direction=h),c&&Number(c)&&(r.indent=Math.min(Number(c),30)),m&&g){var M=Ce.MentionSanitizer.sanitize(g,n);Object.keys(M).length>0&&(r.mentions=!!m,r.mention=g)}return Object.keys(t).reduce(function(C,B){return T.indexOf(B)===-1&&(C[B]=t[B]),C},r)},e.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(t){var n=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!t.match(n)},e.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(t){return typeof t=="boolean"?!0:!!t.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();rt.OpAttributeSanitizer=Ie;var Tt={},yt={};Object.defineProperty(yt,"__esModule",{value:!0});function Be(e){var t=`
`;if(e===t)return[e];var n=e.split(t);if(n.length===1)return n;var r=n.length-1;return n.reduce(function(i,o,a){return a!==r?o!==""?i=i.concat(o,t):i.push(t):o!==""&&i.push(o),i},[])}yt.tokenizeWithNewLines=Be;var et={};Object.defineProperty(et,"__esModule",{value:!0});function Ae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(o!=null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r}et.assign=Ae;var jt=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Tt,"__esModule",{value:!0});var it=y,we=jt(yt),Bt=jt(et),Oe=function(){function e(){}return e.denormalize=function(t){if(!t||typeof t!="object")return[];if(typeof t.insert=="object"||t.insert===it.NewLine)return[t];var n=we.tokenizeWithNewLines(t.insert+"");if(n.length===1)return[t];var r=Bt.assign({},t,{insert:it.NewLine});return n.map(function(i){return i===it.NewLine?r:Bt.assign({},t,{insert:i})})},e}();Tt.InsertOpDenormalizer=Oe;Object.defineProperty(mt,"__esModule",{value:!0});var De=K,z=y,F=R,Ge=rt,ze=Tt,At=tt,He=function(){function e(){}return e.convert=function(t,n){if(!Array.isArray(t))return[];for(var r=[].concat.apply([],t.map(ze.InsertOpDenormalizer.denormalize)),i=[],o,a,l=0,d=r;l<d.length;l++){var u=d[l];u.insert&&(o=e.convertInsertVal(u.insert,n),o&&(a=Ge.OpAttributeSanitizer.sanitize(u.attributes,n),i.push(new De.DeltaInsertOp(o,a))))}return i},e.convertInsertVal=function(t,n){if(typeof t=="string")return new F.InsertDataQuill(z.DataType.Text,t);if(!t||typeof t!="object")return null;var r=Object.keys(t);return r.length?z.DataType.Image in t?new F.InsertDataQuill(z.DataType.Image,At.OpLinkSanitizer.sanitize(t[z.DataType.Image]+"",n)):z.DataType.Video in t?new F.InsertDataQuill(z.DataType.Video,At.OpLinkSanitizer.sanitize(t[z.DataType.Video]+"",n)):z.DataType.Formula in t?new F.InsertDataQuill(z.DataType.Formula,t[z.DataType.Formula]):new F.InsertDataCustom(r[0],t[r[0]]):null},e}();mt.InsertOpsConverter=He;var _t={};(function(e){var t=O&&O.__importStar||function(u){if(u&&u.__esModule)return u;var s={};if(u!=null)for(var p in u)Object.hasOwnProperty.call(u,p)&&(s[p]=u[p]);return s.default=u,s};Object.defineProperty(e,"__esModule",{value:!0});var n=x,r=y,i=t(et),o=t(D),a=rt,l={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(u){return l[u]||"font-family:"+u},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(u,s){var p=parseInt(u,10)*3,f=s.attributes.direction==="rtl"?"right":"left";return"padding-"+f+":"+p+"em"},direction:function(u,s){if(u==="rtl")return"direction:rtl"+(s.attributes.align?"":"; text-align:inherit")}};var d=function(){function u(s,p){this.op=s,this.options=i.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},p)}return u.prototype.prefixClass=function(s){return this.options.classPrefix?this.options.classPrefix+"-"+s:s+""},u.prototype.getHtml=function(){var s=this.getHtmlParts();return s.openingTag+s.content+s.closingTag},u.prototype.getHtmlParts=function(){var s=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:r.NewLine};var p=this.getTags(),f=this.getTagAttributes();!p.length&&f.length&&p.push("span");for(var h=[],c=[],m="img",g=function(H){return H===m&&!!s.op.attributes.link},b=0,I=p;b<I.length;b++){var k=I[b];g(k)&&h.push(n.makeStartTag("a",this.getLinkAttrs())),h.push(n.makeStartTag(k,f)),c.push(k==="img"?"":n.makeEndTag(k)),g(k)&&c.push(n.makeEndTag("a")),f=[]}return c.reverse(),{openingTag:h.join(""),content:this.getContent(),closingTag:c.join("")}},u.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var s=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&n.encodeHtml(s)||s},u.prototype.getCssClasses=function(){var s=this.op.attributes;if(this.options.inlineStyles)return[];var p=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&p.push("background"),(this.getCustomCssClasses()||[]).concat(p.filter(function(f){return!!s[f]}).filter(function(f){return f==="background"?a.OpAttributeSanitizer.IsValidColorLiteral(s[f]):!0}).map(function(f){return f+"-"+s[f]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},u.prototype.getCssStyles=function(){var s=this,p=this.op.attributes,f=[["color"]];return(this.options.inlineStyles||!this.options.allowBackgroundClasses)&&f.push(["background","background-color"]),this.options.inlineStyles&&(f=f.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(f.filter(function(h){return!!p[h[0]]}).map(function(h){var c=h[0],m=p[c],g=s.options.inlineStyles&&s.options.inlineStyles[c]||e.DEFAULT_INLINE_STYLES[c];if(typeof g=="object")return g[m];if(typeof g=="function"){var b=g;return b(m,s.op)}else return o.preferSecond(h)+":"+m})).filter(function(h){return h!==void 0})},u.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var s=this.makeAttr.bind(this),p=this.getCustomTagAttributes(),f=p?Object.keys(this.getCustomTagAttributes()).map(function(b){return s(b,p[b])}):[],h=this.getCssClasses(),c=h.length?f.concat([s("class",h.join(" "))]):f;if(this.op.isImage())return this.op.attributes.width&&(c=c.concat(s("width",this.op.attributes.width))),c.concat(s("src",this.op.insert.value));if(this.op.isACheckList())return c.concat(s("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return c;if(this.op.isVideo())return c.concat(s("frameborder","0"),s("allowfullscreen","true"),s("src",this.op.insert.value));if(this.op.isMentions()){var m=this.op.attributes.mention;return m.class&&(c=c.concat(s("class",m.class))),m["end-point"]&&m.slug?c=c.concat(s("href",m["end-point"]+"/"+m.slug)):c=c.concat(s("href","about:blank")),m.target&&(c=c.concat(s("target",m.target))),c}var g=this.getCssStyles();return g.length&&c.push(s("style",g.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?c.concat(s("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(c=c.concat(this.getLinkAttrs())),c)},u.prototype.makeAttr=function(s,p){return{key:s,value:p}},u.prototype.getLinkAttrs=function(){var s=[],p=a.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,f=a.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,h=this.op.attributes.target||p,c=this.op.attributes.rel||f;return s.concat(this.makeAttr("href",this.op.attributes.link)).concat(h?this.makeAttr("target",h):[]).concat(c?this.makeAttr("rel",c):[])},u.prototype.getCustomTag=function(s){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[s,this.op])},u.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},u.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var s=this.options.customCssClasses.apply(null,[this.op]);if(s)return Array.isArray(s)?s:[s]}},u.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var s=this.options.customCssStyles.apply(null,[this.op]);if(s)return Array.isArray(s)?s:[s]}},u.prototype.getTags=function(){var s=this,p=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var f=this.options.paragraphTag||"p",h=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",f],["direction",f],["indent",f]],c=0,m=h;c<m.length;c++){var g=m[c],b=g[0];if(p[b]){var I=this.getCustomTag(b);return I?[I]:b==="header"?["h"+p[b]]:[o.preferSecond(g)]}}if(this.op.isCustomTextBlock()){var I=this.getCustomTag("renderAsBlock");return I?[I]:[f]}var k=Object.keys(p).reduce(function(T,M){var C=s.getCustomTag(M);return C&&(T[M]=C),T},{}),H=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return H.filter(function(T){return!!p[T[0]]}).concat(Object.keys(k).filter(function(T){return!H.some(function(M){return M[0]==T})}).map(function(T){return[T,k[T]]})).map(function(T){return k[T[0]]?k[T[0]]:T[0]==="script"?p[T[0]]===r.ScriptType.Sub?"sub":"sup":o.preferSecond(T)})},u}();e.OpToHtmlConverter=d})(_t);var kt={},_={},Nt=O&&O.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(_,"__esModule",{value:!0});var xe=function(){function e(t){this.ops=t}return e}();_.InlineGroup=xe;var Mt=function(){function e(t){this.op=t}return e}(),Ee=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Mt);_.VideoItem=Ee;var $e=function(e){Nt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Mt);_.BlotBlock=$e;var je=function(){function e(t,n){this.op=t,this.ops=n}return e}();_.BlockGroup=je;var Ne=function(){function e(t){this.items=t}return e}();_.ListGroup=Ne;var Me=function(){function e(t,n){n===void 0&&(n=null),this.item=t,this.innerList=n}return e}();_.ListItem=Me;var Ve=function(){function e(t){this.rows=t}return e}();_.TableGroup=Ve;var Re=function(){function e(t){this.cells=t}return e}();_.TableRow=Re;var qe=function(){function e(t){this.item=t}return e}();_.TableCell=qe;Object.defineProperty(kt,"__esModule",{value:!0});var Fe=K,nt=D,E=_,Pe=function(){function e(){}return e.pairOpsWithTheirBlock=function(t){for(var n=[],r=function(u){return!(u.isJustNewline()||u.isCustomEmbedBlock()||u.isVideo()||u.isContainerBlock())},i=function(u){return u.isInline()},o=t.length-1,a,l=o;l>=0;l--){var d=t[l];d.isVideo()?n.push(new E.VideoItem(d)):d.isCustomEmbedBlock()?n.push(new E.BlotBlock(d)):d.isContainerBlock()?(a=nt.sliceFromReverseWhile(t,l-1,r),n.push(new E.BlockGroup(d,a.elements)),l=a.sliceStartsAt>-1?a.sliceStartsAt:l):(a=nt.sliceFromReverseWhile(t,l-1,i),n.push(new E.InlineGroup(a.elements.concat(d))),l=a.sliceStartsAt>-1?a.sliceStartsAt:l)}return n.reverse(),n},e.groupConsecutiveSameStyleBlocks=function(t,n){return n===void 0&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),nt.groupConsecutiveElementsWhile(t,function(r,i){return!(r instanceof E.BlockGroup)||!(i instanceof E.BlockGroup)?!1:n.codeBlocks&&e.areBothCodeblocksWithSameLang(r,i)||n.blockquotes&&e.areBothBlockquotesWithSameAdi(r,i)||n.header&&e.areBothSameHeadersWithSameAdi(r,i)||n.customBlocks&&e.areBothCustomBlockWithSameAttr(r,i)})},e.reduceConsecutiveSameStyleBlocksToOne=function(t){var n=Fe.DeltaInsertOp.createNewLineOp();return t.map(function(r){if(!Array.isArray(r))return r instanceof E.BlockGroup&&!r.ops.length&&r.ops.push(n),r;var i=r.length-1;return r[0].ops=nt.flatten(r.map(function(o,a){return o.ops.length?o.ops.concat(a<i?[n]:[]):[n]})),r[0]})},e.areBothCodeblocksWithSameLang=function(t,n){return t.op.isCodeBlock()&&n.op.isCodeBlock()&&t.op.hasSameLangAs(n.op)},e.areBothSameHeadersWithSameAdi=function(t,n){return t.op.isSameHeaderAs(n.op)&&t.op.hasSameAdiAs(n.op)},e.areBothBlockquotesWithSameAdi=function(t,n){return t.op.isBlockquote()&&n.op.isBlockquote()&&t.op.hasSameAdiAs(n.op)},e.areBothCustomBlockWithSameAttr=function(t,n){return t.op.isCustomTextBlock()&&n.op.isCustomTextBlock()&&t.op.hasSameAttr(n.op)},e}();kt.Grouper=Pe;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});var A=_,P=D,We=function(){function e(){}return e.prototype.nest=function(t){var n=this,r=this.convertListBlocksToListGroups(t),i=this.groupConsecutiveListGroups(r),o=P.flatten(i.map(function(l){return Array.isArray(l)?n.nestListSection(l):l})),a=P.groupConsecutiveElementsWhile(o,function(l,d){return l instanceof A.ListGroup&&d instanceof A.ListGroup?l.items[0].item.op.isSameListAs(d.items[0].item.op):!1});return a.map(function(l){if(!Array.isArray(l))return l;var d=l.map(function(u){return u.items});return new A.ListGroup(P.flatten(d))})},e.prototype.convertListBlocksToListGroups=function(t){var n=P.groupConsecutiveElementsWhile(t,function(r,i){return r instanceof A.BlockGroup&&i instanceof A.BlockGroup&&r.op.isList()&&i.op.isList()&&r.op.isSameListAs(i.op)&&r.op.hasSameIndentationAs(i.op)});return n.map(function(r){return Array.isArray(r)?new A.ListGroup(r.map(function(i){return new A.ListItem(i)})):r instanceof A.BlockGroup&&r.op.isList()?new A.ListGroup([new A.ListItem(r)]):r})},e.prototype.groupConsecutiveListGroups=function(t){return P.groupConsecutiveElementsWhile(t,function(n,r){return n instanceof A.ListGroup&&r instanceof A.ListGroup})},e.prototype.nestListSection=function(t){var n=this,r=this.groupByIndent(t);return Object.keys(r).map(Number).sort().reverse().forEach(function(i){r[i].forEach(function(o){var a=t.indexOf(o);n.placeUnderParent(o,t.slice(0,a))&&t.splice(a,1)})}),t},e.prototype.groupByIndent=function(t){return t.reduce(function(n,r){var i=r.items[0].item.op.attributes.indent;return i&&(n[i]=n[i]||[],n[i].push(r)),n},{})},e.prototype.placeUnderParent=function(t,n){for(var r=n.length-1;r>=0;r--){var i=n[r];if(t.items[0].item.op.hasHigherIndentThan(i.items[0].item.op)){var o=i.items[i.items.length-1];return o.innerList?o.innerList.items=o.innerList.items.concat(t.items):o.innerList=t,!0}}return!1},e}();Ct.ListNester=We;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var w=_,wt=D,Ue=function(){function e(){}return e.prototype.group=function(t){var n=this.convertTableBlocksToTableGroups(t);return n},e.prototype.convertTableBlocksToTableGroups=function(t){var n=this,r=wt.groupConsecutiveElementsWhile(t,function(i,o){return i instanceof w.BlockGroup&&o instanceof w.BlockGroup&&i.op.isTable()&&o.op.isTable()});return r.map(function(i){return Array.isArray(i)?new w.TableGroup(n.convertTableBlocksToTableRows(i)):i instanceof w.BlockGroup&&i.op.isTable()?new w.TableGroup([new w.TableRow([new w.TableCell(i)])]):i})},e.prototype.convertTableBlocksToTableRows=function(t){var n=wt.groupConsecutiveElementsWhile(t,function(r,i){return r instanceof w.BlockGroup&&i instanceof w.BlockGroup&&r.op.isTable()&&i.op.isTable()&&r.op.isSameTableRowAs(i.op)});return n.map(function(r){return new w.TableRow(Array.isArray(r)?r.map(function(i){return new w.TableCell(i)}):[new w.TableCell(r)])})},e}();Lt.TableGrouper=Ue;var Qe=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(ht,"__esModule",{value:!0});var Je=mt,W=_t,ot=kt,U=_,Ze=Ct,S=x,Ye=Qe(et),Q=y,Xe=Lt,J="<br/>",Ke=function(){function e(t,n){this.rawDeltaOps=[],this.callbacks={},this.options=Ye.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},n,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var r;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?r=this.options.inlineStyles:r={}:r=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:r,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=t}return e.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()?this.options.bulletListTag+"":t.isCheckedList()?this.options.bulletListTag+"":t.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var t=Je.InsertOpsConverter.convert(this.rawDeltaOps,this.options),n=ot.Grouper.pairOpsWithTheirBlock(t),r=ot.Grouper.groupConsecutiveSameStyleBlocks(n,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),i=ot.Grouper.reduceConsecutiveSameStyleBlocksToOne(r),o=new Xe.TableGrouper;i=o.group(i);var a=new Ze.ListNester;return a.nest(i)},e.prototype.convert=function(){var t=this,n=this.getGroupedOps();return n.map(function(r){if(r instanceof U.ListGroup)return t._renderWithCallbacks(Q.GroupType.List,r,function(){return t._renderList(r)});if(r instanceof U.TableGroup)return t._renderWithCallbacks(Q.GroupType.Table,r,function(){return t._renderTable(r)});if(r instanceof U.BlockGroup){var i=r;return t._renderWithCallbacks(Q.GroupType.Block,r,function(){return t._renderBlock(i.op,i.ops)})}else return r instanceof U.BlotBlock?t._renderCustom(r.op,null):r instanceof U.VideoItem?t._renderWithCallbacks(Q.GroupType.Video,r,function(){var o=r,a=new W.OpToHtmlConverter(o.op,t.converterOptions);return a.getHtml()}):t._renderWithCallbacks(Q.GroupType.InlineGroup,r,function(){return t._renderInlines(r.ops,!0)})}).join("")},e.prototype._renderWithCallbacks=function(t,n,r){var i="",o=this.callbacks.beforeRender_cb;i=typeof o=="function"?o.apply(null,[t,n]):"",i||(i=r());var a=this.callbacks.afterRender_cb;return i=typeof a=="function"?a.apply(null,[t,i]):i,i},e.prototype._renderList=function(t){var n=this,r=t.items[0];return S.makeStartTag(this._getListTag(r.item.op))+t.items.map(function(i){return n._renderListItem(i)}).join("")+S.makeEndTag(this._getListTag(r.item.op))},e.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var n=new W.OpToHtmlConverter(t.item.op,this.converterOptions),r=n.getHtmlParts(),i=this._renderInlines(t.item.ops,!1);return r.openingTag+i+(t.innerList?this._renderList(t.innerList):"")+r.closingTag},e.prototype._renderTable=function(t){var n=this;return S.makeStartTag("table")+S.makeStartTag("tbody")+t.rows.map(function(r){return n._renderTableRow(r)}).join("")+S.makeEndTag("tbody")+S.makeEndTag("table")},e.prototype._renderTableRow=function(t){var n=this;return S.makeStartTag("tr")+t.cells.map(function(r){return n._renderTableCell(r)}).join("")+S.makeEndTag("tr")},e.prototype._renderTableCell=function(t){var n=new W.OpToHtmlConverter(t.item.op,this.converterOptions),r=n.getHtmlParts(),i=this._renderInlines(t.item.ops,!1);return S.makeStartTag("td",{key:"data-row",value:t.item.op.attributes.table})+r.openingTag+i+r.closingTag+S.makeEndTag("td")},e.prototype._renderBlock=function(t,n){var r=this,i=new W.OpToHtmlConverter(t,this.converterOptions),o=i.getHtmlParts();if(t.isCodeBlock())return o.openingTag+S.encodeHtml(n.map(function(l){return l.isCustomEmbed()?r._renderCustom(l,t):l.insert.value}).join(""))+o.closingTag;var a=n.map(function(l){return r._renderInline(l,t)}).join("");return o.openingTag+(a||J)+o.closingTag},e.prototype._renderInlines=function(t,n){var r=this;n===void 0&&(n=!0);var i=t.length-1,o=t.map(function(d,u){return u>0&&u===i&&d.isJustNewline()?"":r._renderInline(d,null)}).join("");if(!n)return o;var a=S.makeStartTag(this.options.paragraphTag),l=S.makeEndTag(this.options.paragraphTag);return o===J||this.options.multiLineParagraph?a+o+l:a+o.split(J).map(function(d){return d===""?J:d}).join(l+a)+l},e.prototype._renderInline=function(t,n){if(t.isCustomEmbed())return this._renderCustom(t,n);var r=new W.OpToHtmlConverter(t,this.converterOptions);return r.getHtml().replace(/\n/g,J)},e.prototype._renderCustom=function(t,n){var r=this.callbacks.renderCustomOp_cb;return typeof r=="function"?r.apply(null,[t,n]):""},e.prototype.beforeRender=function(t){typeof t=="function"&&(this.callbacks.beforeRender_cb=t)},e.prototype.afterRender=function(t){typeof t=="function"&&(this.callbacks.afterRender_cb=t)},e.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},e}();ht.QuillDeltaToHtmlConverter=Ke;Object.defineProperty(v,"__esModule",{value:!0});var tn=ht,en=v.QuillDeltaToHtmlConverter=tn.QuillDeltaToHtmlConverter,nn=_t;v.OpToHtmlConverter=nn.OpToHtmlConverter;var q=_;v.InlineGroup=q.InlineGroup;v.VideoItem=q.VideoItem;v.BlockGroup=q.BlockGroup;v.ListGroup=q.ListGroup;v.ListItem=q.ListItem;v.BlotBlock=q.BlotBlock;var rn=K;v.DeltaInsertOp=rn.DeltaInsertOp;var Vt=R;v.InsertDataQuill=Vt.InsertDataQuill;v.InsertDataCustom=Vt.InsertDataCustom;var N=y;v.NewLine=N.NewLine;v.ListType=N.ListType;v.ScriptType=N.ScriptType;v.DirectionType=N.DirectionType;v.AlignType=N.AlignType;v.DataType=N.DataType;v.GroupType=N.GroupType;const on={class:"editor_box"},sn={__name:"TextEditor",props:["label"],emits:["update:value"],setup(e,{emit:t}){const n=e,r=t,i=Dt({text:""}),o=l=>{const u=new en(l.ops,{}).convert();i.text=u,r("update:value",i.text)},a={name:"imageUploader",module:zt,options:{}};return(l,d)=>{const u=qt("QuillEditor");return Z(),Y("div",on,[j("label",null,st(n.label),1),j("div",null,[$(u,{style:{"min-height":"300px"},modules:a,toolbar:"full","onUpdate:content":o})])])}}},an=dt(sn,[["__scopeId","data-v-73d8d3f0"]]),un=e=>(Qt("data-v-77810a87"),e=e(),Jt(),e),ln={class:"select_con"},cn=un(()=>j("option",{value:null,disabled:"",selected:""},"선택해주세요",-1)),pn=["value"],fn={__name:"SelectBox",props:{list:[],select_tag:String},emits:["change"],setup(e,{emit:t}){const n=t,r=Ft(null),i=()=>{n("change",r.value)};return(o,a)=>(Z(),Y("div",ln,[j("label",null,st(e.select_tag),1),Pt(j("select",{"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l),onChange:i},[cn,(Z(!0),Y(Gt,null,Ut(e.list,l=>(Z(),Y("option",{key:l,value:l.value},st(l.name),9,pn))),128))],544),[[Wt,r.value]])]))}},dn=dt(fn,[["__scopeId","data-v-77810a87"]]),hn={class:"board_con"},mn={class:"board_box"},vn={__name:"BoardCreateView",setup(e){function t(){te.post("/api/board/create",o).then(({data:a})=>{a.success&&alert(a.message)}).catch(a=>{alert(a.response.data.message)})}function n(a){o.content=a}function r(a){o.category=a}const i=[{name:"공지사항",value:"01"},{name:"커뮤니티",value:"02"},{name:"Q&A",value:"03"}],o=Dt({title:"",content:"",category:""});return(a,l)=>(Z(),Y(Gt,null,[$(Yt),j("div",hn,[j("div",mn,[$(Zt,{modelValue:o.title,"onUpdate:modelValue":l[0]||(l[0]=d=>o.title=d),text_tag:"제목"},null,8,["modelValue"]),$(dn,{list:i,select_tag:"카테고리",onChange:r}),$(an,{"onUpdate:value":n,label:"내용"}),$(Xt,{onClick:t,button_tag:"등록"})])]),$(Kt)],64))}},bn=dt(vn,[["__scopeId","data-v-db288f1d"]]);export{bn as default};
